{"version":3,"sources":["../src/channel.js"],"names":["Channel","data","listeners","subscribe","fn","push","unsubscribe","idx","indexOf","splice","update","forEach","l"],"mappings":";;;;;;;;;;;IAAqBA,O,GACnB,iBAAYC,IAAZ,EAAkB;AAAA;;AAChB,MAAMC,YAAY,EAAlB;AACAD,SAAOA,QAAQ,EAAf;;AAEA,OAAKE,SAAL,GAAiB,UAACC,EAAD,EAAQ;AACvBF,cAAUG,IAAV,CAAeD,EAAf;AACD,GAFD;;AAIA,OAAKE,WAAL,GAAmB,UAACF,EAAD,EAAQ;AACzB,QAAMG,MAAML,UAAUM,OAAV,CAAkBJ,EAAlB,CAAZ;AACA,QAAIG,QAAQ,CAAC,CAAb,EAAgBL,UAAUO,MAAV,CAAiBF,GAAjB,EAAsB,CAAtB;AACjB,GAHD;;AAKA,OAAKG,MAAL,GAAc,UAACN,EAAD,EAAQ;AACpB,QAAIA,EAAJ,EAAQA,GAAGH,IAAH;AACRC,cAAUS,OAAV,CAAkB,UAACC,CAAD;AAAA,aAAOA,EAAEX,IAAF,CAAP;AAAA,KAAlB;AACD,GAHD;AAID,C;;kBAlBkBD,O","file":"channel.js","sourcesContent":["export default class Channel {\n  constructor(data) {\n    const listeners = [];\n    data = data || {};\n\n    this.subscribe = (fn) => {\n      listeners.push(fn)\n    };\n\n    this.unsubscribe = (fn) => {\n      const idx = listeners.indexOf(fn);\n      if (idx !== -1) listeners.splice(idx, 1);\n    };\n\n    this.update = (fn) => {\n      if (fn) fn(data);\n      listeners.forEach((l) => l(data));\n    }\n  }\n}\n"]}